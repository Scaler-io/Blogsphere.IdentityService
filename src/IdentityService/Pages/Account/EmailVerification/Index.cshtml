@page
@model IdentityService.Pages.EmailVerification.Index
@{
    ViewData["Title"] = "Email Verification";
    Layout = "_SinglePageLayout";
}

<div class="email-verification-container">
    <div class="verification-success-card">
        @if (Model.EmailVerificationCompleted)
        {
            <div class="success-header">
                <div class="success-icon">
                    <svg width="64" height="64" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <circle cx="12" cy="12" r="10" fill="#10B981"/>
                        <path d="M8 12l2 2 4-4" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </div>
                <h1>Email Verified Successfully!</h1>
                <p class="success-subtitle">Your account is now active</p>
            </div>

            <div class="verification-details">
                <div class="email-display">
                    <p class="verified-text">The following email address has been verified:</p>
                    <div class="email-address">@Model.UserEmail</div>
                </div>

                <!-- Blog-themed decorative elements -->
                <div class="decorative-elements">
                    <svg width="200" height="80" viewBox="0 0 200 80" fill="none" xmlns="http://www.w3.org/2000/svg" class="decoration-svg">
                        <!-- Floating particles background -->
                        <circle cx="20" cy="15" r="2" fill="#0033cc" opacity="0.2" />
                        <circle cx="180" cy="25" r="1.5" fill="#0076ff" opacity="0.3" />
                        <circle cx="30" cy="65" r="1" fill="#ffe600" opacity="0.4" />
                        <circle cx="170" cy="70" r="2.5" fill="#0033cc" opacity="0.2" />
                        
                        <!-- Central blog post representation -->
                        <rect x="60" y="25" width="80" height="30" rx="8" fill="#ffffff" stroke="#0033cc" stroke-width="2" opacity="0.9" />
                        
                        <!-- Blog post content lines -->
                        <rect x="68" y="32" width="50" height="3" rx="1.5" fill="#0033cc" opacity="0.6" />
                        <rect x="68" y="38" width="35" height="2" rx="1" fill="#6b7280" opacity="0.5" />
                        <rect x="68" y="43" width="40" height="2" rx="1" fill="#6b7280" opacity="0.4" />
                        <rect x="68" y="48" width="30" height="2" rx="1" fill="#6b7280" opacity="0.4" />
                        
                        <!-- Floating engagement icons -->
                        <!-- Heart with pulse animation -->
                        <g class="heart-group">
                            <path d="M25 35C25 30 30 25 35 25C40 25 45 30 45 35C45 40 35 50 35 50S25 40 25 35Z" fill="#FF6B6B" opacity="0.8" />
                            <text x="48" y="40" font-family="Arial" font-size="8" fill="#FF6B6B" font-weight="bold">+1</text>
                        </g>
                        
                        <!-- Comment bubble with bounce -->
                        <g class="comment-group">
                            <circle cx="160" cy="40" r="10" fill="#4ECDC4" opacity="0.8" />
                            <path d="M155 40L160 45L165 40" fill="#4ECDC4" opacity="0.8" />
                            <circle cx="157" cy="37" r="1.5" fill="white" />
                            <circle cx="160" cy="37" r="1.5" fill="white" />
                            <circle cx="163" cy="37" r="1.5" fill="white" />
                        </g>
                        
                        <!-- Share arrows with movement -->
                        <g class="share-group">
                            <circle cx="40" cy="60" r="8" fill="#FFE66D" opacity="0.8" />
                            <path d="M37 60L43 60M40 57L40 63M38 58L42 62" stroke="white" stroke-width="1.5" stroke-linecap="round" />
                        </g>
                        
                        <!-- Bookmark with slide animation -->
                        <g class="bookmark-group">
                            <path d="M155 15L155 35L165 30L175 35L175 15Z" fill="#A8E6CF" opacity="0.8" />
                        </g>
                        
                        <!-- Connection lines (data flow) -->
                        <path d="M45 40L60 35" stroke="#0033cc" stroke-width="1" stroke-dasharray="2,2" opacity="0.3" class="connection-line" />
                        <path d="M140 35L150 40" stroke="#0033cc" stroke-width="1" stroke-dasharray="2,2" opacity="0.3" class="connection-line" />
                        <path d="M48 55L60 45" stroke="#0033cc" stroke-width="1" stroke-dasharray="2,2" opacity="0.3" class="connection-line" />
                        <path d="M140 45L150 25" stroke="#0033cc" stroke-width="1" stroke-dasharray="2,2" opacity="0.3" class="connection-line" />
                        
                        <!-- Success sparkles -->
                        <g class="sparkles">
                            <polygon points="15,45 17,50 15,55 13,50" fill="#ffe600" opacity="0.7" />
                            <polygon points="185,50 187,55 185,60 183,55" fill="#ffe600" opacity="0.6" />
                            <polygon points="50,15 52,20 50,25 48,20" fill="#ffe600" opacity="0.8" />
                            <polygon points="150,65 152,70 150,75 148,70" fill="#ffe600" opacity="0.7" />
                        </g>
                    </svg>
                </div>
            </div>

            <div class="next-steps">
                <p class="next-text">You can now access all features of your Blogsphere account.</p>
                <a href="/Account/Login" class="btn-continue">Continue to Blogsphere</a>
            </div>
        }

        @if (Model.EmailVerificationFailed)
        {
            <div class="error-header">
                <div class="error-icon">
                    <svg width="64" height="64" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <circle cx="12" cy="12" r="10" fill="#EF4444"/>
                        <path d="M15 9l-6 6M9 9l6 6" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </div>
                <h1>Email Verification Failed</h1>
                <p class="error-subtitle">Unable to verify your email address</p>
            </div>

            <div class="verification-details">
                <div class="error-message">
                    <p class="error-text">
                        The verification link may have expired or is invalid. This can happen if:
                    </p>
                    <ul class="error-reasons">
                        <li>The link is older than 24 hours</li>
                        <li>The link has already been used</li>
                        <li>The email address has been changed</li>
                    </ul>
                </div>
            </div>

            <div class="error-actions">
                <p class="retry-text">Don't worry! Our support team is here to help you.</p>
                <div class="support-contact">
                    <p class="contact-text">Please contact Blogsphere Support:</p>
                    <div class="phone-number">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M22 16.92V19.92C22 20.52 21.52 21 20.92 21C9.4 21 0 11.6 0 0.08C0 -0.52 0.48 -1 1.08 -1H4.08C4.68 -1 5.16 -0.52 5.16 0.08V3.08C5.16 3.68 4.68 4.16 4.08 4.16H2.12C2.6 7.6 4.4 10.76 7.24 13.6C10.08 16.44 13.24 18.24 16.64 18.72V16.76C16.64 16.16 17.12 15.68 17.72 15.68H20.72C21.32 15.68 21.8 16.16 21.8 16.76V19.76C21.8 20.36 21.32 20.84 20.72 20.84C20.72 20.84 20.72 20.84 20.72 20.84Z" fill="#0033cc"/>
                        </svg>
                        <a href="tel:+1-800-BLOGSPHERE" class="phone-link">+1 (800) BLOG-SPHERE</a>
                    </div>
                    <p class="support-hours">Available 24/7 for technical support</p>
                </div>
            </div>
        }
    </div>
</div>
